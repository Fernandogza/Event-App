<html>
  <head>
    <title>Eventos - ITESM</title>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
    </style>
    <meta charset="UTF-8"></meta>
  </head>
  <body class="white">
    <header>
      <ul id="dropdown1" class="dropdown-content">
        <li><a href="#!">Bar</a></li>
        <li><a href="#!">Line</a></li>
        <li><a href="#!">Pie</a></li>
      </ul>
      <nav class="top-nav teal lighten-2">
        <a href="#" data-activates="slide-out" class="button-collapse top-nav full show-on-large"><i class="mdi-navigation-menu"></i></a>
        <div class="container">
          <div class="nav-wrapper"><a class="brand-logo center">Dashboard</a>
            <ul class="right hide-on-med-and-down">
              <li class="active"><a href="./dashboard.html">Overview</a></li>
              <li><a href="./dashboard-tables.html">Tables</a></li>
              <!-- Dropdown Trigger -->
              <li><a class="dropdown-button" href="#!" data-activates="dropdown1">Charts<i class="material-icons right">arrow_drop_down</i></a></li>
            </ul>
          </div>
        </div>
      </nav>
      <ul id="slide-out" class="side-nav">
        <li><a href="./profile.html"> <i class="small mdi-action-account-circle left"></i> Profile</a></li>
        <li class="active"><a href="./dashboard.html"> <i class="small mdi-action-dashboard left"></i> Dashboard</a></li>
        <li><a href="./chat.html"><i class="small mdi-communication-chat left"></i>Inbox</a></li>
        <div class="section" style="margin-top: 600px;">
            <div class="row">
              <div class="col s12"><a href="./index.html" class="waves-effect waves-light btn black-text grey">logout</a></div>
            </div>
          </div>
      </ul>
    </header>
    <main>
      <div class="row">
        <div class="col s8 offset-s2">
          <br>
          <div id="dashboard_div">
            <!--Divs that will hold each control and chart-->
            <div id="filter_div"></div>
            <div id="chart_div"></div>
            <div id="table_div"></div>
            <div id="toolbar_div"></div>

          </div>
        </div>
      </div>
    </main>
    <script src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script src="js/main.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script>
      $(document).ready(function(){
         $(".button-collapse").sideNav();
         $(".dropdown-button").dropdown();
      });
    </script>
    <script type="text/javascript">

      // Load the Visualization API and the controls package.
      google.load('visualization', '1.0', {'packages':['controls']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.setOnLoadCallback(drawDashboard);

      // Callback that creates and populates a data table,
      // instantiates a dashboard, a range slider and a pie chart,
      // passes in the data and draws it.
      function drawDashboard() {

        // Create our data table.
        var data = google.visualization.arrayToDataTable([
          ['Name', 'Gender', 'Age', 'Events'],
          ['Michael' , 'Male', 16, 5],
          ['Elisa', 'Female', 20, 7],
          ['Robert', 'Male', 17, 3],
          ['John', 'Male', 54, 2],
          ['Jessica', 'Female', 22, 6],
          ['Aaron', 'Male', 30, 1],
          ['Margareth', 'Female', 42, 8]
        ]);

        // Create a dashboard.
        var dashboard = new google.visualization.Dashboard(
            document.getElementById('dashboard_div'));

        // Create a range slider, passing some options
        var eventRangeSlider = new google.visualization.ControlWrapper({
          'controlType': 'NumberRangeFilter',
          'containerId': 'filter_div',
          'options': {
            'filterColumnLabel': 'Age'
          }
        });

        var pieChart = new google.visualization.ChartWrapper({
          'chartType': 'PieChart',
          'containerId': 'chart_div',
          'options': {
            'width': 800,
            'height': 600,
            'title': 'Events attended per person'
          },
          // The pie chart will use the columns 'Name' and 'Donuts eaten'
          // out of all the available ones.
          'view': {'columns': [0, 3]}
        });
        var tableChart = new google.visualization.ChartWrapper({
          'chartType': 'Table',
          'containerId': 'table_div',
          'options': {
            'width': 800,
            'height': 600,
            showRowNumber: true, width:'50%', height: '50%',
          },
        });

        dashboard.bind(eventRangeSlider, pieChart);
        dashboard.bind(eventRangeSlider, tableChart);
        // Draw the dashboard.
        dashboard.draw(data);
        drawToolbar(data);
      }
      function drawToolbar(data) {
        var components = [
            {type: 'html', datasource: data},
            {type: 'csv', datasource: data},
        ];

        var container = document.getElementById('toolbar_div');
        google.visualization.drawToolbar(container, components);
      };
    </script>
  </body>
</html>
